@model Order

@{
    ViewData["Title"] = "Current Order";
    int tableNumber = Model.Table.TableNumber;
}
<h1>
    @if (tableNumber != 0)
    {
        <span>Currently Ordering for Table @tableNumber</span>
    }
    else
    {
        <span>@ViewData["Title"]</span>
    }
</h1>
<div class="container-fluid mt-3">
    <div class="row">
        <div class="d-flex justify-content-end align-items-center">
            <div class="col-5">Menu Item</div>
            <div class="col-1 text-center">Price per Unit (excl. VAT)</div>
            <div class="col-1 text-center">Price per Unit (incl. VAT)</div>
            <div class="col-1 text-center">Amount</div>
            <div class="col-1 text-center">Price (excl. VAT)</div>
            <div class="col-1 text-center">Price (incl. VAT)</div>
        </div>
        @foreach (OrderLine orderLine in Model.OrderLines)
        {
            <partial name="_OrderLineCard" model="orderLine" />
        }
    </div>
</div>
<div class="container-fluid mb-3">
    <div class="ms-auto" style="max-width: 300px;">
        <div class="d-flex justify-content-between mb-1">
            <span>Price (excluding VAT)</span>
            <span>€@Model.PriceExcludingVAT</span>
        </div>
        <div class="d-flex justify-content-between mb-1">
            <span>VAT</span>
            <span>€@Model.VAT</span>
        </div>
        <div class="d-flex justify-content-between fw-bold">
            <span>Total Price</span>
            <span>€@Model.PriceIncludingVAT</span>
        </div>
    </div>
    <div class="d-flex justify-content-between gap-2 mt-3 flex-wrap">
        <a class="btn btn-outline-primary" href="Menu">Return to Menus</a>
        <a class="btn btn-warning" href="ChangeTable">Change Table</a>
        <form asp-controller="Order" asp-action="SendCurrentOrder">
            <button type="submit" class="btn btn-success">Send to the Kitchen and Bar &rarr;</button>
        </form>
    </div>
</div>